#!/bin/bash -xv
# SPDX-FileCopyrightText: 2024 Karen Otake
# SPDX-License-Identifier: BSD-3-Clause

ng () {
	echo ${1}行目が違うよ
	res=1
}

res=0

### NOMAL INPUT ###
out=$(echo 1 2 3 4 | ./find_zero_equations.py)
[ "${out}" = "[1 - 2 - 3 + 4 = 0]  [1 - 2 + 4 - 3 = 0]  [1 - 3 - 2 + 4 = 0]  [1 - 3 + 4 - 2 = 0]  [1 - 3 + 4 / 2 = 0]  [1 + 4 - 2 - 3 = 0]  [1 + 4 / 2 - 3 = 0]  [1 + 4 - 3 - 2 = 0]  [2 - 1 + 3 - 4 = 0]  [2 - 1 - 4 + 3 = 0]  [2 + 3 - 1 - 4 = 0]  [2 + 3 - 4 - 1 = 0]  [2 - 4 - 1 + 3 = 0]  [2 - 4 + 3 - 1 = 0]  [3 - 1 + 2 - 4 = 0]  [3 - 1 - 4 + 2 = 0]  [3 - 1 - 4 / 2 = 0]  [3 + 2 - 1 - 4 = 0]  [3 + 2 - 4 - 1 = 0]  [3 - 4 - 1 + 2 = 0]  [3 - 4 + 2 - 1 = 0]  [3 - 4 / 2 - 1 = 0]  [4 + 1 - 2 - 3 = 0]  [4 + 1 - 3 - 2 = 0]  [4 - 2 + 1 - 3 = 0]  [4 / 2 + 1 - 3 = 0]  [4 - 2 - 3 + 1 = 0]  [4 / 2 - 3 + 1 = 0]  [4 - 3 + 1 - 2 = 0]  [4 - 3 - 2 + 1 = 0]" ] || ng "$LINENO"

out=$(echo 1 3 5 10 | ./find_zero_equations.py)
[ "${out}" = "[1 - 3 + 10 / 5 = 0]  [1 + 10 / 5 - 3 = 0]  [3 - 1 - 10 / 5 = 0]  [3 - 10 / 5 - 1 = 0]  [10 / 5 + 1 - 3 = 0]  [10 / 5 - 3 + 1 = 0]" ] || ng "$LINENO"

out=$(echo 1 5 3 10 | ./find_zero_equations.py)
[ "${out}" = "[1 - 3 + 10 / 5 = 0]  [1 + 10 / 5 - 3 = 0]  [3 - 1 - 10 / 5 = 0]  [3 - 10 / 5 - 1 = 0]  [10 / 5 + 1 - 3 = 0]  [10 / 5 - 3 + 1 = 0]" ] || ng "$LINENO"

out=$(echo 1 5 3 2 | ./find_zero_equations.py)                                                                        
[ "${out}" = "[1 + 5 - 3 * 2 = 0]  [1 * 5 - 3 - 2 = 0]  [1 + 5 - 2 * 3 = 0]  [1 * 5 - 2 - 3 = 0]  [1 * 3 - 5 + 2 = 0]  [1 - 3 * 2 + 5 = 0]  [1 * 3 + 2 - 5 = 0]  [1 * 2 - 5 + 3 = 0]  [1 - 2 * 3 + 5 = 0]  [1 * 2 + 3 - 5 = 0]  [5 + 1 - 3 * 2 = 0]  [5 - 1 * 3 - 2 = 0]  [5 * 1 - 3 - 2 = 0]  [5 / 1 - 3 - 2 = 0]  [5 + 1 - 2 * 3 = 0]  [5 - 1 * 2 - 3 = 0]  [5 * 1 - 2 - 3 = 0]  [5 / 1 - 2 - 3 = 0]  [5 - 3 - 1 * 2 = 0]  [5 - 3 * 1 - 2 = 0]  [5 - 3 / 1 - 2 = 0]  [5 - 3 - 2 * 1 = 0]  [5 - 3 - 2 / 1 = 0]  [5 - 3 * 2 + 1 = 0]  [5 - 2 - 1 * 3 = 0]  [5 - 2 * 1 - 3 = 0]  [5 - 2 / 1 - 3 = 0]  [5 - 2 - 3 * 1 = 0]  [5 - 2 - 3 / 1 = 0]  [5 - 2 * 3 + 1 = 0]  [3 - 1 * 5 + 2 = 0]  [3 * 1 - 5 + 2 = 0]  [3 / 1 - 5 + 2 = 0]  [3 + 1 * 2 - 5 = 0]  [3 * 1 + 2 - 5 = 0]  [3 / 1 + 2 - 5 = 0]  [3 - 5 + 1 * 2 = 0]  [3 - 5 * 1 + 2 = 0]  [3 - 5 / 1 + 2 = 0]  [3 - 5 + 2 * 1 = 0]  [3 - 5 + 2 / 1 = 0]  [3 + 2 - 1 * 5 = 0]  [3 + 2 * 1 - 5 = 0]  [3 + 2 / 1 - 5 = 0]  [3 * 2 - 1 - 5 = 0]  [3 + 2 - 5 * 1 = 0]  [3 + 2 - 5 / 1 = 0]  [3 * 2 - 5 - 1 = 0]  [2 - 1 * 5 + 3 = 0]  [2 * 1 - 5 + 3 = 0]  [2 / 1 - 5 + 3 = 0]  [2 + 1 * 3 - 5 = 0]  [2 * 1 + 3 - 5 = 0]  [2 / 1 + 3 - 5 = 0]  [2 - 5 + 1 * 3 = 0]  [2 - 5 * 1 + 3 = 0]  [2 - 5 / 1 + 3 = 0]  [2 - 5 + 3 * 1 = 0]  [2 - 5 + 3 / 1 = 0]  [2 + 3 - 1 * 5 = 0]  [2 + 3 * 1 - 5 = 0]  [2 + 3 / 1 - 5 = 0]  [2 * 3 - 1 - 5 = 0]  [2 + 3 - 5 * 1 = 0]  [2 + 3 - 5 / 1 = 0]  [2 * 3 - 5 - 1 = 0]" ] || ng "$LINENO"

out=$(echo 100 3 5 50 | ./find_zero_equations.py)
[ "${out}" = "[100 / 50 + 3 - 5 = 0]  [100 / 50 - 5 + 3 = 0]  [3 + 100 / 50 - 5 = 0]  [3 - 5 + 100 / 50 = 0]  [5 - 100 / 50 - 3 = 0]  [5 - 3 - 100 / 50 = 0]" ] || ng "$LINENO"

out=$(echo 10 5 3 1 | ./find_zero_equations.py)
[ "${out}" = "[10 / 5 - 3 + 1 = 0]  [10 / 5 + 1 - 3 = 0]  [3 - 10 / 5 - 1 = 0]  [3 - 1 - 10 / 5 = 0]  [1 + 10 / 5 - 3 = 0]  [1 - 3 + 10 / 5 = 0]" ] || ng "$LINENO"

#プラス付き
out=$(echo 10 +5 3 1 | ./find_zero_equations.py)
[ "${out}" = "[10 / 5 - 3 + 1 = 0]  [10 / 5 + 1 - 3 = 0]  [3 - 10 / 5 - 1 = 0]  [3 - 1 - 10 / 5 = 0]  [1 + 10 / 5 - 3 = 0]  [1 - 3 + 10 / 5 = 0]" ] || ng "$LINENO"

#マイナス付き
out=$(echo -10 5 3 1 | ./find_zero_equations.py)
[ "${out}" = "[-10 / 5 + 3 - 1 = 0]  [-10 / 5 - 1 + 3 = 0]  [3 + -10 / 5 - 1 = 0]  [3 - 1 + -10 / 5 = 0]  [1 - -10 / 5 - 3 = 0]  [1 - 3 - -10 / 5 = 0]" ] || ng "$LINENO"

out=$(echo 10 -5 3 1 | ./find_zero_equations.py)
[ "${out}" = "[10 / -5 + 3 - 1 = 0]  [10 / -5 - 1 + 3 = 0]  [3 + 10 / -5 - 1 = 0]  [3 - 1 + 10 / -5 = 0]  [1 - 10 / -5 - 3 = 0]  [1 - 3 - 10 / -5 = 0]" ] || ng "$LINENO"

out=$(echo -100 3 5 50 | ./find_zero_equations.py)
[ "${out}" = "[-100 / 50 - 3 + 5 = 0]  [-100 / 50 + 5 - 3 = 0]  [3 - -100 / 50 - 5 = 0]  [3 - 5 - -100 / 50 = 0]  [5 + -100 / 50 - 3 = 0]  [5 - 3 + -100 / 50 = 0]" ] || ng "$LINENO"

# プラス，マイナス付き
out=$(echo  -100 3 +5 -50 | ./find_zero_equations.py)
[ "${out}" = "[-100 / -50 + 3 - 5 = 0]  [-100 / -50 - 5 + 3 = 0]  [3 + -100 / -50 - 5 = 0]  [3 - 5 + -100 / -50 = 0]  [5 - -100 / -50 - 3 = 0]  [5 - 3 - -100 / -50 = 0]" ] || ng "$LINENO"

### STRANGE INPUT ###
# 数字の過不足
out=$(echo 1 3 5 | ./find_zero_equations.py)
[ "${out}" = "エラー: 四つの数字を入力してください 例: echo 1 2 3 4 | ./find_zero_equations.py 例: ./find_zero_equations.py 1 2 3 4" ] || ng "$LINENO"

out=$(echo 1 2 3 4 5 | ./find_zero_equations.py) 
[ "${out}" = "エラー: 四つの数字を入力してください 例: echo 1 2 3 4 | ./find_zero_equations.py 例: ./find_zero_equations.py 1 2 3 4" ] || ng "$LINENO"

# 解なし
out=$(echo 8 3 3 6 | ./find_zero_equations.py)
[ "${out}" = "等式は見つかりませんでした" ] || ng "$LINENO"

out=$(echo 1 2 3 10 | ./find_zero_equations.py)
[ "${out}" = "等式は見つかりませんでした" ] || ng "$LINENO"

[ "${res}" = 0 ] && echo OK
exit $res
